<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Story signup</title>
    <link rel="stylesheet" href="{% static 'signup/signup_style.css' %}">
</head>
<body>
    <div class="form-structor">
        <form method="POST" class="signup" action="{% url 'loginuser' %}">
            {% csrf_token %}
            <h2 class="form-title" id="signup"><span>or</span>Login</h2>
            <h3 style="color: rgb(236, 69, 69);">{{error}}</h3>
            <div class="form-holder">
                
                <input name="username" type="text" class="input" placeholder="Username" required />
                <input name="password" type="password" class="input" placeholder="Password" required/>
            </div>
            <button class="submit-btn" type="submit">Login</button>
        </form>
        <form method="POST" class="login slide-up" action="{% url 'signupuser' %}">
            {% csrf_token %}
            <div class="center">
                <h2 class="form-title" id="login"><span>or</span>Sign up</h2>
                <div class="form-holder">
                    <input name="username" type="text" class="input" placeholder="Username" required/>
                    <input name="email" type="email" class="input" placeholder="Email" required/>
                    <input name="password1" type="password" class="input" placeholder="Password" required/>
                    <input name="password2" type="password" class="input" placeholder="Password again" required/>
                </div>
                <button class="submit-btn" type="submit">Sign up</button>
            </div>
        </form>
    </div>

</body>
<script>
const loginBtn = document.getElementById('login');
const signupBtn = document.getElementById('signup');
let flag = 1;
loginBtn.addEventListener('click', (e) => {
    if (flag == 1){
        flag = 0;
        let parent = e.target.parentNode.parentNode;
        Array.from(e.target.parentNode.parentNode.classList).find((element) => {
            if(element !== "slide-up") {
                parent.classList.add('slide-up')
            }else{
                signupBtn.parentNode.classList.add('slide-up')
                parent.classList.remove('slide-up')
            }
        });
    }
});

signupBtn.addEventListener('click', (e) => {
    if (flag == 0){
        flag = 1;
        let parent = e.target.parentNode;
        Array.from(e.target.parentNode.classList).find((element) => {
            if(element !== "slide-up") {
                parent.classList.add('slide-up')
            }else{
                loginBtn.parentNode.parentNode.classList.add('slide-up')
                parent.classList.remove('slide-up')
            }
        });
    }
});
</script>
</html>
